@inject IWebHostEnvironment Env
<body>
    <nav class="sidebar">
        <div class="top-row navbar">
            <div class="top-row container">
                <div class="profile-picture_container">
                    <label for="fileInput">
                        @if (previewImage != null)
                        {
                            <img src="@previewImage" class="profile-picture" />
                        }
                        else
                        {
                            <div class="profile-placeholder">
                                <span>No Image</span>
                            </div>
                        }
                    </label>
                    <div class="edit-overlay">
                        <i class="fas fa-camera"></i>
                    </div>
                    <InputFile id="fileInput" style="display: none;" OnChange="HandleSelected" accept="image/*" />
                </div>
            </div>
        </div>

        <div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()">
            <nav class="flex-column">
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="/Client_home" Match="NavLinkMatch.All">Home</NavLink>
                </div>
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="/Withdraw_amount">Withdraw</NavLink>
                </div>
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="/Deposit_amount">Deposit</NavLink>
                </div>
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="/Transactions">Transactions History</NavLink>
                </div>
            </nav>
        </div>
    </nav>
</body>

@code {
    private string? previewImage;

    private async Task HandleSelected(InputFileChangeEventArgs e)
    {
        var imageFile = e.File;
        var buffer = new byte[imageFile.Size];
        await imageFile.OpenReadStream(5 * 1024 * 1024).ReadAsync(buffer);
        previewImage = $"data:image/png;base64,{Convert.ToBase64String(buffer)}";

        var uploadsPath = Path.Combine(Env.WebRootPath, "uploads");
        Directory.CreateDirectory(uploadsPath);
        var filePath = Path.Combine(uploadsPath, imageFile.Name);
        using var fs = new FileStream(filePath, FileMode.Create);
        await imageFile.OpenReadStream().CopyToAsync(fs);
    }
}
