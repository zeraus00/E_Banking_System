@page "/Transaction"
@inject NavigationManager NavigationManager

<div class="container mt-4">
    <h4 class="text-muted border-bottom pb-2">Account with paid loan</h4>

    <div class="d-flex align-items-center gap-2 my-3">
        <InputDate class="form-control" @bind-Value="startDate" placeholder="Start Date" />
        <InputDate class="form-control" @bind-Value="endDate" placeholder="End Date" />
        <button class="btn btn-primary shadow-sm">Filter</button>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered text-center">
            <thead class="table-info">
                <tr>
                    <th>Name</th>
                    <th>Account Number</th>
                    <th>Loan Amount</th>
                    <th>Loan Term</th>
                    <th>Statement Date</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var account in paidLoanAccounts)
                {
                    <tr class="@((paidLoanAccounts.IndexOf(account) % 2 == 0 ? "bg-light" : ""))">
                        <td>@account.Name</td>
                        <td>@account.AccountNumber</td>
                        <td>@account.LoanAmount.ToString("N0")</td>
                        <td>@account.LoanTerm</td>
                        <td>@account.StatementDate?.ToString("MM/dd/yy")</td>
                        <td>
                            <button class="btn btn-outline-info btn-sm px-3">View Status</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@code {
    private DateTime? startDate;
    private DateTime? endDate;

    private List<LoanAccount> paidLoanAccounts = new()
    {
        new LoanAccount
        {
            Name = "Sample Name #1",
            AccountNumber = "AAA-000000",
            LoanAmount = 20000,
            LoanTerm = "6 Months",
            StatementDate = null
        },
        new LoanAccount
        {
            Name = "Sample Name #3",
            AccountNumber = "AAA-000000",
            LoanAmount = 40000,
            LoanTerm = "12 Months",
            StatementDate = null
        }
    };

    public class LoanAccount
    {
        public string Name { get; set; }
        public string AccountNumber { get; set; }
        public int LoanAmount { get; set; }
        public string LoanTerm { get; set; }
        public DateTime? StatementDate { get; set; }
    }
}
